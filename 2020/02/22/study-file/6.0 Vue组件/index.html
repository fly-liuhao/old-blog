<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Vue学习之——Vue组件 | Fly's Blog</title><meta name="description" content="Vue学习笔记"><meta name="keywords" content="Vue"><meta name="author" content="Hao Liu"><meta name="copyright" content="Hao Liu"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#222222"><meta name="msapplication-TileColor" content="#222222"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Vue学习之——Vue组件"><meta name="twitter:description" content="Vue学习笔记"><meta name="twitter:image" content="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Vue学习之——Vue组件"><meta property="og:url" content="https://fly-liuhao.github.io/2020/02/22/study-file/6.0%20Vue%E7%BB%84%E4%BB%B6/"><meta property="og:site_name" content="Fly's Blog"><meta property="og:description" content="Vue学习笔记"><meta property="og:image" content="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://fly-liuhao.github.io/2020/02/22/study-file/6.0%20Vue%E7%BB%84%E4%BB%B6/"><link rel="prev" title="Vue学习之——Vue数据绑定（二）" href="https://fly-liuhao.github.io/2020/02/22/study-file/4.0%20%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%EF%BC%88%E4%BA%8C%EF%BC%89/"><link rel="next" title="Vue学习之——Vue项目环境搭建" href="https://fly-liuhao.github.io/2020/02/22/study-file/7.0%20Vue%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://fly-liuhao.github.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: Hao Liu","link":"链接: https://fly-liuhao.github.io/2020/02/22/study-file/6.0%20Vue%E7%BB%84%E4%BB%B6/","source":"来源: Fly's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><canvas class="fireworks"></canvas><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Fly's Blog</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/leaveamessage/"><i class="fa-fw fa fa-pencil-square-o"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> Book</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.gif" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">10</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">4</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">3</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/leaveamessage/"><i class="fa-fw fa fa-pencil-square-o"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> Book</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#六、Vue组件"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">六、Vue组件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-1-组件注册"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">6.1 组件注册</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#全局注册"><span class="toc_mobile_items-number">1.1.0.0.1.</span> <span class="toc_mobile_items-text">全局注册</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-4-组件的信息传递"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">6.4 组件的信息传递</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-4-1-父组件向子组件传递数据"><span class="toc_mobile_items-number">1.2.1.</span> <span class="toc_mobile_items-text">6.4.1 父组件向子组件传递数据</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#静态数据传递"><span class="toc_mobile_items-number">1.2.1.0.1.</span> <span class="toc_mobile_items-text">静态数据传递</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#</span>web<span class="><span class="toc_mobile_items-number">1.2.2.</span> <span class="toc_mobile_items-text">父实例，访问自身数据：fatherId-{{fatherId}}，fatherName-{{fatherName}}</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#</span>web<span class="><span class="toc_mobile_items-number">1.2.3.</span> <span class="toc_mobile_items-text">父实例，访问子组件传递的数据：sonId-{{sonId}}，sonName-{{sonName}}</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#</span>template01<span class="><span class="toc_mobile_items-number">1.2.4.</span> <span class="toc_mobile_items-text">子组件，访问自身数据：sonId-{{sonId}}, sonName-{{sonName}}</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#</span>template01<span class="><span class="toc_mobile_items-number">1.2.5.</span> <span class="toc_mobile_items-text">子组件，访问父实例数据：fatherId-{{fatherId}}, fatherName-{{fatherName}}</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#六、Vue组件"><span class="toc-number">1.</span> <span class="toc-text">六、Vue组件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-组件注册"><span class="toc-number">1.1.</span> <span class="toc-text">6.1 组件注册</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#全局注册"><span class="toc-number">1.1.0.0.1.</span> <span class="toc-text">全局注册</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-组件的信息传递"><span class="toc-number">1.2.</span> <span class="toc-text">6.4 组件的信息传递</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-1-父组件向子组件传递数据"><span class="toc-number">1.2.1.</span> <span class="toc-text">6.4.1 父组件向子组件传递数据</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#静态数据传递"><span class="toc-number">1.2.1.0.1.</span> <span class="toc-text">静态数据传递</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#</span>web<span class="><span class="toc-number">1.2.2.</span> <span class="toc-text">父实例，访问自身数据：fatherId-{{fatherId}}，fatherName-{{fatherName}}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#</span>web<span class="><span class="toc-number">1.2.3.</span> <span class="toc-text">父实例，访问子组件传递的数据：sonId-{{sonId}}，sonName-{{sonName}}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#</span>template01<span class="><span class="toc-number">1.2.4.</span> <span class="toc-text">子组件，访问自身数据：sonId-{{sonId}}, sonName-{{sonName}}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#</span>template01<span class="><span class="toc-number">1.2.5.</span> <span class="toc-text">子组件，访问父实例数据：fatherId-{{fatherId}}, fatherName-{{fatherName}}</span></a></li></ol></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container"><div id="post-info"><div id="post-title"><div class="posttitle">Vue学习之——Vue组件</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-02-22<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-05-23</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Vue/">Vue</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">3.5k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 11 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><html><head></head><body><h1 id="六、Vue组件"><a href="#六、Vue组件" class="headerlink" title="六、Vue组件"></a>六、Vue组件</h1><p>Vue组件是Vue.js框架最为核心的应用之一，可以说Vue框架构建单页面应用就是依赖于Vue组件系统的。Vue为前端代码复用与解耦提供了一种便捷的操作方式，支撑起了整个Vue单页面开发的结构。</p>
<h2 id="6-1-组件注册"><a href="#6-1-组件注册" class="headerlink" title="6.1 组件注册"></a>6.1 组件注册</h2><h5 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h5><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <div id="<span" class="string">"web01"><br><span class="line">        <my-component><<span class="regexp">/my-component></span></my-component></span><br><span class="line"><span class="regexp">        <my-component>-component></my-component></span><br><span class="line">        <my-component><<span class="regexp">/my-component></span></my-component></span><br><span class="line"><span class="regexp">    <!--</span-->div></span><br><span class="line">    <div id="<span" class="string">"web02"><br><span class="line">        <my-component><<span class="regexp">/my-component></span></my-component></span><br><span class="line"><span class="regexp">        <my-component>-component></my-component></span><br><span class="line">        <my-component><<span class="regexp">/my-component></span></my-component></span><br><span class="line"><span class="regexp">    <!--</span-->div></span><br><span class="line">    <script></span><br><span class="line">        <span class="comment">/* 全局注册 */</span></span><br><span class="line">        Vue.component(<span class="string">"my-component"</span>,{</span><br><span class="line">            template: <span class="string">"<h3>a Vue component</h3>"</span></span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> vm01 = <span class="keyword">new</span> Vue({</span><br><span class="line">            el: <span class="string">"#web01"</span></span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> vm02 = <span class="keyword">new</span> Vue({</span><br><span class="line">            el: <span class="string">"#web02"</span></span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>对于Vue组件全局注册，通过Vue全局实例的component函数来定义组件，component函数接收两个参数，第一个参数指定组件的名称，例如my-component，在页面元素中直接通过标签的方式引用；第二个参数为组件内容的JSON实例，这里使用了组件实例的template属性，该属性用于定义组件复用HTML代码内容，以字符串的格式出现。关于组件实例的属性内容，我们后续专门介绍。</p>
<p>对于全局注册的方式，在组件注册完成之后，其他的Vue实例都可以使用该组件。</p>
<h5 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h5><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web01"</span>></span><br><span class="line">        <mycomponent01><<span class="regexp">/mycomponent01></span></span><br><span class="line"><span class="regexp">        <my-component02></my</span>-component02></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        var vm01 = new Vue({</span></span><br><span class="line"><span class="regexp">            el: "#web01",</span></span><br><span class="line"><span class="regexp">            /</span>*局部注册*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">            components: {</span></span><br><span class="line"><span class="regexp">                mycomponent01: {</span></span><br><span class="line"><span class="regexp">                    template: "<h3>a Vue component01</</span>h3><span class="string">"</span></span><br><span class="line"><span class="string">                },</span></span><br><span class="line"><span class="string">                "</span>my-component02<span class="string">": {</span></span><br><span class="line"><span class="string">                    template: "</span><h3>a Vue component02<<span class="regexp">/h3>"</span></span><br><span class="line"><span class="regexp">                }</span></span><br><span class="line"><span class="regexp">            }</span></span><br><span class="line"><span class="regexp">        })</span></span><br><span class="line"><span class="regexp">    </</span>script></span><br><span class="line"><<span class="regexp">/body></span></span><br></pre></td></tr></tbody></table></figure></div>

<p>对于Vue组件局部注册，通过一个Vue实例的components属性来定义，components属性为JSON对象，通过key来指定组件的名称；通过value来指定组件定义内容，接收一个组件实例对象。</p>
<p>既然components属性中的value为一个JSON对象的组件实例，我们完全可以使用另一种方式注册组件。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <my-component01><<span class="regexp">/my-component01></span></span><br><span class="line"><span class="regexp">        <my-component02></my</span>-component02></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        /</span>*<span class="keyword">var</span> myComponent = {</span><br><span class="line">            template: <span class="string">"<h3>a Vue component</h3>"</span></span><br><span class="line">        };*<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">		var myComponent = Vue.extend({</span></span><br><span class="line"><span class="regexp">            template: "<h3>a Vue component</</span>h3><span class="string">"</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        /*全局注册*/</span></span><br><span class="line"><span class="string">        Vue.component("</span>my-component01<span class="string">",myComponent);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        /*局部注册*/</span></span><br><span class="line"><span class="string">        var vm = new Vue({</span></span><br><span class="line">            el: "#web",</span><br><span class="line">            components: {</span><br><span class="line">                <span class="string">"my-component02"</span>: myComponent</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>Vue.extend函数是Vue提供的一种更加严谨的组件对象创建方式。</p>
<h5 id="组件命名"><a href="#组件命名" class="headerlink" title="组件命名"></a>组件命名</h5><p>在注册一个组件的时候，我们始终需要给定它一个名字，而由于HMTL元素解析不区分大小写，所有HTML标签都会解析为小写，也即在HTML页面中，我们无法看到如下的标签：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><myComponent02><<span class="regexp">/myComponent02></span></span><br></pre></td></tr></tbody></table></figure></div>

<p>基于以上的原则，Vue提供了两种组件的命名方式：</p>
<ol>
<li>kebab-case：以“-”连接不同的单词命名组件，在使用组件时，也以“-”的方式出现。<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line"><div id=<span class="string">"web"</span>></span><br><span class="line">	<my-component01><<span class="regexp">/my-component01></span></span><br><span class="line"><span class="regexp"></</span>div></span><br><span class="line"><script></span><br><span class="line">	Vue.component(<span class="string">"my-component01"</span>,{</span><br><span class="line">		template: <span class="string">"<h3>a Vue component01</h3>"</span></span><br><span class="line">	});</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">		el: <span class="string">"#web"</span></span><br><span class="line">	})</span><br><span class="line"><<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div></li>
<li>PascalCase：以驼峰式命名组件名，在使用组件时，使用“-”连接单词使用。<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <my-component02><<span class="regexp">/my-component02></span></span><br><span class="line"><span class="regexp">        <!--这种方式会出现异常--></span></span><br><span class="line"><span class="regexp">        <!--<myComponent02></my</span>Component02>--></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        Vue.component("myComponent02",{</span></span><br><span class="line"><span class="regexp">            template: "<h3>a Vue component02</</span>h3><span class="string">"</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        var vm = new Vue({</span></span><br><span class="line">            el: "#web"</span><br><span class="line">        })</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

</li>
</ol>
<h5 id="组件的template模板"><a href="#组件的template模板" class="headerlink" title="组件的template模板"></a>组件的template模板</h5><p>组件与Vue实例中的template属性是十分相似的，但组件的应用要远远超过template模板，由于组件的出现，我们在项目中几乎不使用Vue实例的template模板。</p>
<p>与template模板一样，当组件template内容定义过多时，我们是用字符串来定义模板内容将十分的不便，因此，对于组件template属性的定义，我们还可以使用一种更加便捷的方式。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <my-component><<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">    </</span>div></span><br><span class="line">    <script></span><br><span class="line">        <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">            Vue.component(<span class="string">"my-component"</span>,{</span><br><span class="line">                template: <span class="string">"#template01"</span></span><br><span class="line">            });</span><br><span class="line">            <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">                el: <span class="string">"#web"</span></span><br><span class="line">            })</span><br><span class="line">        };</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp">    <template id="template01"></span></span><br><span class="line"><span class="regexp">        <ul></span></span><br><span class="line"><span class="regexp">            <li>111</</span>li></span><br><span class="line">            <li><span class="number">222</span><<span class="regexp">/li></span></span><br><span class="line"><span class="regexp">            <li>333</</span>li></span><br><span class="line">        <<span class="regexp">/ul></span></span><br><span class="line"><span class="regexp">    </</span>template></span><br><span class="line"><<span class="regexp">/body></span></span><br></pre></td></tr></tbody></table></figure></div>

<p>对于组件模板的使用，我们可以将组件的template属性定义为一个字符串，将模板内容定义为一个<template>模板，通过CSS选择器的方式进行模板的指定。</p>
<h2 id="6-2-组件实例"><a href="#6-2-组件实例" class="headerlink" title="6.2 组件实例"></a>6.2 组件实例</h2><p>Vue组件实际上是可复用的实例，它与Vue实例的执行原理、操作方式基本相同。因此，Vue实例具有什么样的属性，则组件具有什么样的属性，但还有一些例外。Vue组件具有data、methods、computed、watch及生命周期钩子函数等，但组件实例没有el属性，因为每一个组件实例是挂载在Vue实例下的。</p>
<h3 id="data属性类型必须是一个函数"><a href="#data属性类型必须是一个函数" class="headerlink" title="data属性类型必须是一个函数"></a>data属性类型必须是一个函数</h3><p>组件实例的data属性必须是一个带有返回值的函数，而不能直接使用JSON数据格式。这样限定的原因很好理解，因为每一个组件实例都需要维护一份该组件实例所单独持有的数据信息。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <my-component><<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">        <my-component></my</span>-component></span><br><span class="line">        <my-component><<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">    </</span>div></span><br><span class="line">    <template id=<span class="string">"template01"</span>></span><br><span class="line">        <div></span><br><span class="line">            <p>{{num}}<<span class="regexp">/p></span></span><br><span class="line"><span class="regexp">            <button @click="addNum">当前组件自增</</span>button></span><br><span class="line">        <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    </</span>template></span><br><span class="line">    <script></span><br><span class="line">        Vue.component(<span class="string">"my-component"</span>,{</span><br><span class="line">            template: <span class="string">"#template01"</span>,</span><br><span class="line">            data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="keyword">return</span> {<span class="attr">num</span>: <span class="number">0</span>}</span><br><span class="line">            },</span><br><span class="line">            <span class="comment">/* 该配置会出现错误 */</span></span><br><span class="line">            <span class="comment">/*data: {</span></span><br><span class="line"><span class="comment">                num: 0</span></span><br><span class="line"><span class="comment">            },*/</span></span><br><span class="line">            methods: {</span><br><span class="line">                addNum: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                    <span class="keyword">this</span>.num++;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">            el: <span class="string">"#web"</span></span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>上述案例中，每个组件中num都独立维护，各自自增；试想，如果组件中的data是一个JSON对象，则属性值将会被各个组件所共享，数据将不会各自自增。</p>
<h2 id="6-3-动态组件"><a href="#6-3-动态组件" class="headerlink" title="6.3 动态组件"></a>6.3 动态组件</h2><p>Vue为组件的使用提供了很多的灵活操作方式，接下来，我们学习每种情况。</p>
<h3 id="6-3-1-组件的DOM解析"><a href="#6-3-1-组件的DOM解析" class="headerlink" title="6.3.1 组件的DOM解析"></a>6.3.1 组件的DOM解析</h3><h5 id="组件模板内容必须存在一个根节点。"><a href="#组件模板内容必须存在一个根节点。" class="headerlink" title="组件模板内容必须存在一个根节点。"></a>组件模板内容必须存在一个根节点。</h5><p>尝试将上述代码案例中组件模板的div标签去掉，模板解析将会出现异常，因为Vue组件模板要求必须存在一个根节点。</p>
<h5 id="HTML原生解析父节点的限制"><a href="#HTML原生解析父节点的限制" class="headerlink" title="HTML原生解析父节点的限制"></a>HTML原生解析父节点的限制</h5><p>在HTML原生解析中，诸如ul、ol、table 和 select这些元素，对于哪些元素可以出现在其内部是有严格限制的。而相对的，有些元素，诸如 li、tr 和 option，只能出现在其它某些特定的元素内部。</p>
<p>也就是说，当li这样的标签出现table标签之下时，将会造成解析错误。当我们在ul、ol、table 和 select这些元素内部使用自定义组件标签时，同样会出现错误。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <table></span><br><span class="line">            <my-component><<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">            <my-component></my</span>-component></span><br><span class="line">            <my-component><<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">        </</span>table></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <template id="template01"></span></span><br><span class="line"><span class="regexp">        <tr></span></span><br><span class="line"><span class="regexp">            <td>111</</span>td><span class="xml"><span class="tag"><<span class="name">td</span>></span>222<span class="tag"></<span class="name">td</span>></span></span><span class="xml"><span class="tag"><<span class="name">td</span>></span>333<span class="tag"></<span class="name">td</span>></span></span></span><br><span class="line">        <<span class="regexp">/tr></span></span><br><span class="line"><span class="regexp">    </</span>template></span><br><span class="line">    <script></span><br><span class="line">        Vue.component(<span class="string">"my-component"</span>,{</span><br><span class="line">            template: <span class="string">"#template01"</span></span><br><span class="line">        });</span><br><span class="line">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">            el: <span class="string">"#web"</span></span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>当执行上述代码时，我们表面上看到页面似乎没有问题，但实际页面在解析过程中已经出现了问题，我们在控制台查看HTML DOM解析结构，发现已经出现了问题，tr元素出现在table元素的外部。</p>
<p>针对这种问题，Vue为我们提供了is属性进行问题的解决，使用is属性来指定将要复用的组件信息。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <table></span><br><span class="line">            <tr is=<span class="string">"my-component"</span>><<span class="regexp">/tr></span></span><br><span class="line"><span class="regexp">            <tr is="my-component"></</span>tr></span><br><span class="line">            <tr is=<span class="string">"my-component"</span>><<span class="regexp">/tr></span></span><br><span class="line"><span class="regexp">        </</span>table></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <template id="template01"></span></span><br><span class="line"><span class="regexp">        <tr></span></span><br><span class="line"><span class="regexp">            <td>111</</span>td><span class="xml"><span class="tag"><<span class="name">td</span>></span>222<span class="tag"></<span class="name">td</span>></span></span><span class="xml"><span class="tag"><<span class="name">td</span>></span>333<span class="tag"></<span class="name">td</span>></span></span></span><br><span class="line">        <<span class="regexp">/tr></span></span><br><span class="line"><span class="regexp">    </</span>template></span><br><span class="line">    <script></span><br><span class="line">        Vue.component(<span class="string">"my-component"</span>,{</span><br><span class="line">            template: <span class="string">"#template01"</span></span><br><span class="line">        });</span><br><span class="line">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">            el: <span class="string">"#web"</span></span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<h3 id="6-3-2-组件插槽的内容"><a href="#6-3-2-组件插槽的内容" class="headerlink" title="6.3.2 组件插槽的内容"></a>6.3.2 组件插槽的内容</h3><p>在某些业务场景中，我们需要在组件定义模板中动态插入一些HTML页面，如果按照之前的组件使用方式，我们将无法实现。</p>
<p>例如：我们需要在组件模板的h3标签下插入变化的HTML页面，这里插入一个ul，通过下述代码是无法实现的。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <my-component></span><br><span class="line">            <ul></span><br><span class="line">                <li><span class="number">111</span><<span class="regexp">/li></span></span><br><span class="line"><span class="regexp">                <li>222</</span>li></span><br><span class="line">                <li><span class="number">333</span><<span class="regexp">/li></span></span><br><span class="line"><span class="regexp">            </u</span>l></span><br><span class="line">        <<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">    </</span>div></span><br><span class="line">    <template id=<span class="string">"template01"</span>></span><br><span class="line">        <div></span><br><span class="line">            <h3>slot内容分发<<span class="regexp">/h3></span></span><br><span class="line"><span class="regexp">        </</span>div></span><br><span class="line">    <<span class="regexp">/template></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        Vue.component("my-component",{</span></span><br><span class="line"><span class="regexp">            template: "#template01"</span></span><br><span class="line"><span class="regexp">        });</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        var vm = new Vue({</span></span><br><span class="line"><span class="regexp">            el: "#web"</span></span><br><span class="line"><span class="regexp">        });</span></span><br><span class="line"><span class="regexp">    </</span>script></span><br><span class="line"><<span class="regexp">/body></span></span><br></pre></td></tr></tbody></table></figure></div>

<p>Vue通过组件模板自定义标签slot，来进行预留插槽，在使用组件时，再将具体内容插入到组件模板中。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <my-component></span><br><span class="line">            <!--通过Vue的slot属性来使用预留插槽--></span><br><span class="line">            <ul slot=<span class="string">"s2"</span>></span><br><span class="line">                <li><span class="number">111</span><<span class="regexp">/li></span></span><br><span class="line"><span class="regexp">                <li>222</</span>li></span><br><span class="line">                <li><span class="number">333</span><<span class="regexp">/li></span></span><br><span class="line"><span class="regexp">            </u</span>l></span><br><span class="line">            <div slot=<span class="string">"s1"</span>></span><br><span class="line">                <h3>slot插槽的使用<<span class="regexp">/h3></span></span><br><span class="line"><span class="regexp">            </</span>div></span><br><span class="line">        <<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">    </</span>div></span><br><span class="line">    <template id=<span class="string">"template01"</span>></span><br><span class="line">        <div></span><br><span class="line">            <h3>slot内容分发<<span class="regexp">/h3></span></span><br><span class="line"><span class="regexp">            <!--通过name属性来指定插槽的名称--></span></span><br><span class="line"><span class="regexp">            <slot name="s1"></</span>slot></span><br><span class="line">            <slot name=<span class="string">"s2"</span>><<span class="regexp">/slot></span></span><br><span class="line"><span class="regexp">        </</span>div></span><br><span class="line">    <<span class="regexp">/template></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        Vue.component("my-component",{</span></span><br><span class="line"><span class="regexp">            template: "#template01"</span></span><br><span class="line"><span class="regexp">        });</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        var vm = new Vue({</span></span><br><span class="line"><span class="regexp">            el: "#web"</span></span><br><span class="line"><span class="regexp">        });</span></span><br><span class="line"><span class="regexp">    </</span>script></span><br><span class="line"><<span class="regexp">/body></span></span><br></pre></td></tr></tbody></table></figure></div>

<h3 id="6-3-3-组件的动态切换"><a href="#6-3-3-组件的动态切换" class="headerlink" title="6.3.3 组件的动态切换"></a>6.3.3 组件的动态切换</h3><p>有的时候，在不同组件之间进行动态切换是非常有用的，例如我们系统经常使用的一个导航栏。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <!--定义导航栏的切换--></span><br><span class="line">        <ul></span><br><span class="line">            <!--为每一个选项卡绑定切换事件，直接改变currentView的数据--></span><br><span class="line">            <li><span class="xml"><span class="tag"><<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"currentView='home'"</span>></span>Home<span class="tag"></<span class="name">button</span>></span></span><<span class="regexp">/li></span></span><br><span class="line"><span class="regexp">            <li><button @click="currentView='page1'">page1</</span>button><<span class="regexp">/li></span></span><br><span class="line"><span class="regexp">            <li><button @click="currentView='page2'">page2</</span>button><<span class="regexp">/li></span></span><br><span class="line"><span class="regexp">        </u</span>l></span><br><span class="line">        <!--导航栏切换的区域，根据导航栏选中的内容不同，进行不同信息的展示--></span><br><span class="line">        <div></span><br><span class="line">            <!-- component元素是Vue动态组件定义的标签，存在一个is属性，该属性接收自定义组件的名称，将该组件内容展示出来--></span><br><span class="line">            <component :is=<span class="string">"currentView"</span>><<span class="regexp">/component></span></span><br><span class="line"><span class="regexp">        </</span>div></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        var vm = new Vue({</span></span><br><span class="line"><span class="regexp">            el: "#web",</span></span><br><span class="line"><span class="regexp">            data: {</span></span><br><span class="line"><span class="regexp">               currentView: "home"</span></span><br><span class="line"><span class="regexp">            },</span></span><br><span class="line"><span class="regexp">            components: {</span></span><br><span class="line"><span class="regexp">                home: {</span></span><br><span class="line"><span class="regexp">                    template: "<h3>home：{{home}}</</span>h3><span class="string">",</span></span><br><span class="line"><span class="string">                    data: function () {</span></span><br><span class="line"><span class="string">                        /*产生一个0到100不包含100的随机数*/</span></span><br><span class="line"><span class="string">                        return {</span></span><br><span class="line"><span class="string">                            home: parseInt(Math.random()*100)</span></span><br><span class="line"><span class="string">                        };</span></span><br><span class="line"><span class="string">                    }</span></span><br><span class="line"><span class="string">                },</span></span><br><span class="line"><span class="string">                page1: {</span></span><br><span class="line"><span class="string">                    template: "</span><h3>page1<<span class="regexp">/h3>"</span></span><br><span class="line"><span class="regexp">                },</span></span><br><span class="line"><span class="regexp">                page2: {</span></span><br><span class="line"><span class="regexp">                    template: "<h3>page2</</span>h3><span class="string">"</span></span><br><span class="line"><span class="string">                }</span></span><br><span class="line"><span class="string">            }</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string">    </script></span></span><br><span class="line"><span class="string"></span></span><br></span></div></span></span></span></div></span></pre></td></tr></tbody></table></figure></div>

<p>组件的动态切换需要配合Vue内置的component标签来使用，该标签用于动态地显示组件内容，具体展示哪个组件，根据is属性值来进行指定，接收值为组件的名称。</p>
<p>并且，通过上面的随机数测试，我们发现每次切换到Home页面时，页面上的随机数都是变化的，也就是说，页面没切换一次相当于组件都重新编译解析了一次。如果我们组件定义内容较多，且内容不是动态变化的，那么，每次切换都重新加载组件内容，显然是一种资源浪费。</p>
<p>为了避免这种资源浪费，Vue为我们提供了一个keep-alive标签，将该标签定义在component外部，该component容器中的组件只会在第一次加载时编译一次，完成编译之后，每次切换将不再重新编译，也就是keep-alive将第一次编译的内容缓存了下来。</p>
<p>我们可以根据实际的业务场景来确定是否使用keep-alive标签。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><div><br><span class="line">	<keep-alive></keep-alive></span><br><span class="line">		<!-- component元素是Vue动态组件定义的标签，存在一个is属性，该属性接收自定义组件的名称，将该组件内容展示出来--></span><br><span class="line">		<component :is="<span" class="string">"currentView"</component></span>><<span class="regexp">/component></span><br><span class="line"><span class="regexp">	<!--</span-->keep-alive></span><br><span class="line"><<span class="regexp">/div></span></span><br></span></div></span></pre></td></tr></tbody></table></figure></div>

<h2 id="6-4-组件的信息传递"><a href="#6-4-组件的信息传递" class="headerlink" title="6.4 组件的信息传递"></a>6.4 组件的信息传递</h2><p>通常对于一个大型应用系统来说，系统构建都是以一个组件树来进行组织的。查看组件的组织结构图。</p>
<p>由图发现，系统是由多个复杂的组件嵌套构成的，那么组件与组件之间一定存在复杂的数据交互问题。</p>
<p>又由组件的基础知识可知，每一个组件都是挂载在一个Vue实例下的，而组件本身也是一个Vue实例，组件使用过程中存在父子关系，Vue实例就像是一个父实例，而组件实例就相当于是一个子实例。</p>
<h3 id="6-4-1-父组件向子组件传递数据"><a href="#6-4-1-父组件向子组件传递数据" class="headerlink" title="6.4.1 父组件向子组件传递数据"></a>6.4.1 父组件向子组件传递数据</h3><p>组件实例通过props属性来支持数据传递。</p>
<h5 id="静态数据传递"><a href="#静态数据传递" class="headerlink" title="静态数据传递"></a>静态数据传递</h5><p>案例1：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <div id="<span" class="string">"web"><br><span class="line">        <!--组件在使用时传递具体的数据内容--></span><br><span class="line">        <my-component01 message="<span" class="string">"1"</my-component01></span>><<span class="regexp">/my-component01></span><br><span class="line"><span class="regexp">		<my-component01 message="Hello">-component01></my-component01></span><br><span class="line">        <my-component01 message="<span" class="string">"Hello World"</my-component01></span>><<span class="regexp">/my-component01></span></span><br><span class="line"><span class="regexp">        <my-component01 message="true">-component01></my-component01></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        Vue.component("my-component01",{</span></span><br><span class="line"><span class="regexp">            template: "<h3>{{message + ' of type is ' + typeof message}}</</span>h3><span class="string">",</span></span><br><span class="line"><span class="string">            /* 使用props属性来声明该组件将要接收来自父组件或者外部的数据，数据类型为数据 */</span></span><br><span class="line"><span class="string">            props: ["</span>message<span class="string">"]</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        var vm = new Vue({</span></span><br><span class="line">            el: "#web"</span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>组件通过props属性来声明该组件将要接收来自父组件或者外部的数据，数据类型要求为一个数组，数组中定义字符串类型的数据名。在使用组件时，通过数组中的数据名来指定该数据名所指代的具体值。</p>
<p>这里传入的值都是字符串类型的，如果我们想要传递特定数据类型的值时，应该怎么做？例如，将传递值1以数字1的方式传入、将true字符串以布尔值的方式传入。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><div id=<span class="string">"web"</span>></span><br><span class="line">	<!--组件在使用时传递具体的数据内容--></span><br><span class="line">	<my-component01 v-bind:message=<span class="string">"1"</span>><<span class="regexp">/my-component01></span></span><br><span class="line"><span class="regexp">	<my-component01 message="Hello"></my</span>-component01></span><br><span class="line">	<my-component01 message=<span class="string">"Hello World"</span>><<span class="regexp">/my-component01></span></span><br><span class="line"><span class="regexp">	<my-component01 :message="true"></my</span>-component01></span><br><span class="line"><<span class="regexp">/div></span></span><br></pre></td></tr></tbody></table></figure></div>

<p>通过将传递属性使用v-bind指令进行绑定，我们发现1与true传递之后，数据类型已经解析为number与boolean。</p>
<p>但如果将Hello进行v-bind数据绑定后，页面会出现undefined类型；而如果将Hello World进行v-bind数据绑定后，页面将会直接报错。这种现象出现的原因是，使用v-bind进行数据绑定后，已经变成了动态数据传递。</p>
<h5 id="动态数据绑定"><a href="#动态数据绑定" class="headerlink" title="动态数据绑定"></a>动态数据绑定</h5><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <my-component message=<span class="string">"Hello"</span>><<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">        <my-component :message="1"></my</span>-component></span><br><span class="line">        <!-- 将父实例当中的message数据进行传递 --></span><br><span class="line">        <my-component :message=<span class="string">"message"</span>><<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        <!-- 复合数据的传递 --></span></span><br><span class="line"><span class="regexp">        <!-- 将data字符串当做一个JSON格式的对象进行传递--></span></span><br><span class="line"><span class="regexp">        <my-component01 :message="{data:'Hello World'}"></my</span>-component01></span><br><span class="line">        <!-- 动态地将父实例中person对象进行传递 --></span><br><span class="line">        <my-component02 :message=<span class="string">"person"</span>><<span class="regexp">/my-component02></span></span><br><span class="line"><span class="regexp">    </</span>div></span><br><span class="line">    <script></span><br><span class="line">        Vue.component(<span class="string">"my-component"</span>,{</span><br><span class="line">            template: <span class="string">"<h3>{{message}}</h3>"</span>,</span><br><span class="line">            props:[<span class="string">"message"</span>]</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        Vue.component(<span class="string">"my-component01"</span>,{</span><br><span class="line">            template: <span class="string">"<h3>{{message.data}}</h3>"</span>,</span><br><span class="line">            <span class="comment">/* 将data JSON数据赋值给message在组件中进行数据处理 */</span></span><br><span class="line">            props:[<span class="string">"message"</span>]</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Vue.component(<span class="string">"my-component02"</span>,{</span><br><span class="line">            template: <span class="string">"<h3>{{message.name}}</h3>"</span>,</span><br><span class="line">            <span class="comment">/* 将person对象数据赋值给message在组件中进行数据处理 */</span></span><br><span class="line">            props:[<span class="string">"message"</span>]</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">            el: <span class="string">"#web"</span>,</span><br><span class="line">            data: {</span><br><span class="line">                message: <span class="string">"Hello World"</span>,</span><br><span class="line">                person: {</span><br><span class="line">                    id: <span class="number">1</span>,</span><br><span class="line">                    name: <span class="string">"zhangsan"</span>,</span><br><span class="line">                    sex: <span class="string">"男"</span></span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>在动态数据传递中，要使用v-bind进行属性绑定，进行动态数据绑定时，绑定的字符串内容将以变量的方式出现。</p>
<h5 id="props单向数据流特性"><a href="#props单向数据流特性" class="headerlink" title="props单向数据流特性"></a>props单向数据流特性</h5><p>props属性组件数据传递时具有单向数据流特性，父实例中数据发生改变时，子组件中的数据也会随之改变；但子组件中数据发生改变，并且该数据依赖于props属性，父实例中的数据不会随着props属性数据的改变而改变，这就是props属性的单向数据流特性。</p>
<p>在测试props单向数据流特性的复杂案例之前，我们先来看一个简单的案例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <!-- input实现了双向数据绑定 --></span><br><span class="line">        <input type=<span class="string">"text"</span> v-model=<span class="string">"fatherMessage"</span>></span><br><span class="line">        <p>{{fatherMessage}}<<span class="regexp">/p></span></span><br><span class="line"><span class="regexp">        <!-- outer-message进行组件数据传递，outer-message相当于outerMessage --></span></span><br><span class="line"><span class="regexp">        <my-component :outer-message="fatherMessage"></my</span>-component></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        Vue.component("my-component",{</span></span><br><span class="line"><span class="regexp">            template: "<h3>{{outerMessage}}</</span>h3><span class="string">",</span></span><br><span class="line"><span class="string">            props: ["</span>outerMessage<span class="string">"]</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        var vm = new Vue({</span></span><br><span class="line">            el: "#web",</span><br><span class="line">            data: {</span><br><span class="line">                fatherMessage: <span class="string">""</span></span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>通过上述案例，我们可以看出当外部父实例中的数据发生改变时，子组件中的数据也随之发生了改变。</p>
<blockquote>
<p>注意：props属性进行数据名称定义时采用了驼峰式的命名，但在数据名称使用时使用“-”连接。直接使用“-”会造成编译异常。</p>
</blockquote>
<p>接下来，我们测试子组件向父实例数据逆向数据传递。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">    <div id=<span class="string">"web"</span>></span><br><span class="line">        <!-- input实现了双向数据绑定 --></span><br><span class="line">        <input type=<span class="string">"text"</span> v-model=<span class="string">"fatherMessage"</span>></span><br><span class="line">        <p>父实例当中的数据：{{fatherMessage}}<<span class="regexp">/p></span></span><br><span class="line"><span class="regexp">        <!-- son-message进行组件数据传递，son-message相当于sonMessage --></span></span><br><span class="line"><span class="regexp">        <my-component :son-message="fatherMessage"></my</span>-component></span><br><span class="line">    <<span class="regexp">/div></span></span><br><span class="line"><span class="regexp">    <script></span></span><br><span class="line"><span class="regexp">        Vue.component("my-component",{</span></span><br><span class="line"><span class="regexp">            /</span>*将从props属性中接收到的父数据绑定到input输入框中，input框具有双向数据绑定的功能*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">            template: "<div><h3>子组件当中的数据：{{sonMessage}}</</span>h3><span class="xml"><span class="tag"><<span class="name">input</span> <span class="attr">type</span>=<span class="string">'text'</span> <span class="attr">v-model</span>=<span class="string">'sonMessage'</span>></span><span class="tag"></<span class="name">div</span>></span></span><span class="string">",</span></span><br><span class="line"><span class="string">            props: ["</span>sonMessage<span class="string">"]</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        var vm = new Vue({</span></span><br><span class="line">            el: "#web",</span><br><span class="line">            data: {</span><br><span class="line">                fatherMessage: <span class="string">""</span></span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>当我们在父输入框中输入数据时，会将数据同步到子组件当中去；但在子组件输入框中输入数据时，子组件内容的数据会发生更新，但父实例数据不会发生同步。</p>
<p>通过上述的测试，我们得出了一个结论：当父实例数据发生变更时，会通过props属性自动将数据同步到子组件当中去；但子组件操作数据时，并不会将自身变化的数据影响到父实例当中去，这就是props属性的单向数据流特性。</p>
<p>父组件可以通过props属性向子组件传递数据，那么子组件是否可以向父组件传递数据呢？答案是肯定的，关于子组件向父组件传递数据的知识我们后续学习。</p>
<h5 id="props数据验证"><a href="#props数据验证" class="headerlink" title="props数据验证"></a>props数据验证</h5><p>为了保证props传递数据的安全严谨性，Vue为props属性提供了数据校验的相关功能。在进行数据校验时，props属性不再接收字符串格式的数组，而是接收一个JSON格式的对象。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><body></span><br><span class="line">	<div id=<span class="string">"web"</span>></span><br><span class="line">		<my-component :message=<span class="string">"message"</span>><<span class="regexp">/my-component></span></span><br><span class="line"><span class="regexp">	</</span>div></span><br><span class="line">	<script></span><br><span class="line">		Vue.component(<span class="string">"my-component"</span>,{</span><br><span class="line">			template: <span class="string">"<h3>{{message}}</h3>"</span>,</span><br><span class="line">			<span class="comment">/* props数据校验，接收一个JSON对象 */</span></span><br><span class="line">			props: {</span><br><span class="line">				<span class="comment">/* 对于Message数据的校验 */</span></span><br><span class="line">				message: {</span><br><span class="line">					<span class="comment">/* message的数据类型必须为Number */</span></span><br><span class="line">					type: <span class="built_in">Number</span>,</span><br><span class="line">					<span class="comment">/* message数据为必传值 */</span></span><br><span class="line">					required: <span class="literal">true</span>,</span><br><span class="line">					<span class="comment">/* 对于message数据的自定义校验函数，返回值为true表示校验通过，false为校验不通过 */</span></span><br><span class="line">					validator: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>{</span><br><span class="line">						<span class="keyword">return</span> value > <span class="number">0</span> && value <=<span class="number">128</span>;</span><br><span class="line">					}</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		});</span><br><span class="line"></span><br><span class="line">		<span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">			el: <span class="string">"#web"</span>,</span><br><span class="line">			data: {</span><br><span class="line">				message: <span class="number">180</span></span><br><span class="line">			}</span><br><span class="line">		});</span><br><span class="line">	<<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br></pre></td></tr></tbody></table></figure></div>

<p>以上是props数据校验的基本方式，当数据校验不通过时，并不会影响页面的正常编译渲染，只是会在控制台抛出一些Vue的校验异常警告。因此，props属性的数据校验只是编程层面的数据校验，相当于为程序员编程时提供一些组件的使用警告。</p>
<p>其他的数据校验格式：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'my-component'</span>, {</span><br><span class="line">  props: {</span><br><span class="line">    <span class="comment">// 基础的类型检查 (`null` 匹配任何类型)</span></span><br><span class="line">    propA: <span class="built_in">Number</span>,</span><br><span class="line">    <span class="comment">// 多个可能的类型</span></span><br><span class="line">    propB: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</span><br><span class="line">    <span class="comment">// 必填的字符串</span></span><br><span class="line">    propC: {</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    },</span><br><span class="line">    <span class="comment">// 带有默认值的数字</span></span><br><span class="line">    propD: {</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="number">100</span></span><br><span class="line">    },</span><br><span class="line">    <span class="comment">// 带有默认值的对象</span></span><br><span class="line">    propE: {</span><br><span class="line">      type: <span class="built_in">Object</span>,</span><br><span class="line">      <span class="comment">// 对象或数组默认值必须从一个工厂函数获取</span></span><br><span class="line">      <span class="keyword">default</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> { <span class="attr">message</span>: <span class="string">'hello'</span> }</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    <span class="comment">// 自定义验证函数</span></span><br><span class="line">    propF: {</span><br><span class="line">      validator: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>{</span><br><span class="line">        <span class="comment">// 这个值必须匹配下列字符串中的一个</span></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">'success'</span>, <span class="string">'warning'</span>, <span class="string">'danger'</span>].indexOf(value) !== <span class="number">-1</span></span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure></div>
<h3 id="6-4-2-子组件向父组件传递数据"><a href="#6-4-2-子组件向父组件传递数据" class="headerlink" title="6.4.2 子组件向父组件传递数据"></a>6.4.2 子组件向父组件传递数据</h3><p>父实例、父组件向子组件传递数据Vue通过props属性来实现，而props的数据传递本质上却是不可逆的。在某些特殊的场景下，我们想要将子组件中的数据传递到父实例或者父组件中，这时就必须借助Vue提供的自定义事件机制来进行数据传递。</p>
<p>自定义事件涉及到了v-on指令的事件监听与$emit事件触发。</p>
<h5 id="使用事件向父实例抛出一个子组件值"><a href="#使用事件向父实例抛出一个子组件值" class="headerlink" title="使用事件向父实例抛出一个子组件值"></a>使用事件向父实例抛出一个子组件值</h5><p>案例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><!DOCTYPE html></span><br><span class="line"><html lang=<span class="string">"en"</span>></span><br><span class="line"><head></span><br><span class="line">    <meta charset=<span class="string">"UTF-8"</span>></span><br><span class="line">    <title>test-子组件向父组件传递数据<<span class="regexp">/title></span></span><br><span class="line"><span class="regexp">    <script src="../</span>vue/vue.js<span class="string">"></script></span></span><br><span class="line"><span class="string">    <!--</span></span><br><span class="line"><span class="string">        1、编写父实例，访问自身数据；</span></span><br><span class="line"><span class="string">        2、编写子组件，访问自身数据；</span></span><br><span class="line"><span class="string">        3、将父实例中的数据通过props属性传递给子组件；</span></span><br><span class="line"><span class="string">        4、将子组件中的数据通过自定义事件绑定传递给子组件</span></span><br><span class="line"><span class="string">            4.1 在子组件模板中绑定一个click事件，该事件将触发send函数的执行；</span></span><br><span class="line"><span class="string">            4.2 定义send函数，send函数中通过$emit函数进行事件广播，触发组件外部的指定事件son-click，并子组件中的数据进行传递；</span></span><br><span class="line"><span class="string">            4.3 在子组件的使用处，绑定自定义事件类型son-click，该事件由$emit函数触发，</span></span><br><span class="line"><span class="string">                son-click事件触发后会执行指定的父实例中的receive函数，该函数即可接受$emit函数发射出来的参数。</span></span><br><span class="line"><span class="string">            4.4 receive函数内部将传递过来的数据绑定在父实例当中。</span></span><br><span class="line"><span class="string">    --></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    <div id="</span>web<span class=" string">"><br><span class="line"><span class="string">        <h3>父实例，访问自身数据：fatherId-{{fatherId}}，fatherName-{{fatherName}}</h3></span></span><br><span class="line"><span class="string">        <h3>父实例，访问子组件传递的数据：sonId-{{sonId}}，sonName-{{sonName}}</h3></span></span><br><span class="line"><span class="string">        <!-- 子组件上定义一个自定义事件类型，名称为sonClick，该事件将会触发父实例中函数的执行--></span></span><br><span class="line"><span class="string">        <my-component :father-id="</span>fatherId<span class=" string">"</my-component></span></span><br><span class="line"><span class="string">            :father-Name="</span>fatherName<span class="string">"</span></span><br><span class="line"><span class="string">            @son-click="</span>receive<span class="string">"></span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">    </span></span></div></span></span><br><span class="line"><span class="string">    <template id="</span>template01<span class=" string">"><br><span class="line"><span class="string">        <div><br><span class="line"><span class="string">            <h3>子组件，访问自身数据：sonId-{{sonId}}, sonName-{{sonName}}</h3></span></span><br><span class="line"><span class="string">            <h3>子组件，访问父实例数据：fatherId-{{fatherId}}, fatherName-{{fatherName}}</h3></span></span><br><span class="line"><span class="string">            <!-- 设置一个click事件，该事件触发send函数执行 --></span></span><br><span class="line"><span class="string">            <button @click="</span>send<span class=" string">">子组件向父实例发送数据</button></span></span><br><span class="line"><span class="string">        </span></span></div></span></span><br><span class="line"><span class="string">    </span></span></template></span></span><br><span class="line"><span class="string">    <script></span></span><br><span class="line"><span class="string">        Vue.component("</span>my-component<span class="string">",{</span></span><br><span class="line">            template: "#template01",</span><br><span class="line">            data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="keyword">return</span> {</span><br><span class="line">                    sonId: <span class="number">1</span>,</span><br><span class="line">                    sonName: <span class="string">"son"</span></span><br><span class="line">                }</span><br><span class="line">            },</span><br><span class="line">            props: [<span class="string">"fatherId"</span>,<span class="string">"fatherName"</span>],</span><br><span class="line">            methods: {</span><br><span class="line">                send: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                    <span class="comment">/*利用$emit函数进行事件广播，第一个参数始终为将要触发的事件名称，之后的参数为该事件接收的实参*/</span></span><br><span class="line">                    <span class="comment">/*注意：这里的事件名称要与子组件使用时定义的名称相同*/</span></span><br><span class="line">                    <span class="keyword">this</span>.$emit(<span class="string">"son-click"</span>,<span class="keyword">this</span>.sonId,<span class="keyword">this</span>.sonName);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">            el: <span class="string">"#web"</span>,</span><br><span class="line">            data: {</span><br><span class="line">                fatherId: <span class="number">1</span>,</span><br><span class="line">                fatherName: <span class="string">"father"</span>,</span><br><span class="line">                sonId: <span class="number">0</span>,</span><br><span class="line">                sonName: <span class="string">""</span></span><br><span class="line">            },</span><br><span class="line">            methods: {</span><br><span class="line">                receive: <span class="function"><span class="keyword">function</span> (<span class="params">sonId,sonName</span>) </span>{</span><br><span class="line">                    <span class="keyword">this</span>.sonId = sonId;</span><br><span class="line">                    <span class="keyword">this</span>.sonName = sonName;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br><span class="line"><<span class="regexp">/html></span></span><br></pre></td></tr></tbody></table></figure></div>

<p>要点：</p>
<ol>
<li>$emit函数是Vue中事件发射函数，能够主动触发自定义事件执行，第一个参数指定将要触发的事件名称，之后的参数指定事件传递的实参值。</li>
<li>$emit函数的事件名称必须与子组件绑定时的名称完全一致，一般要求“-”连接方式。</li>
<li>子组件绑定自定义事件名称，间接触发外部父实例中的函数，该函数用于接收子组件传出的数据。</li>
</ol>
<h5 id="v-model的双向数据绑定"><a href="#v-model的双向数据绑定" class="headerlink" title="v-model的双向数据绑定"></a>v-model的双向数据绑定</h5><p>自定义事件同样可以应用于支持v-model的输入框，因为在v-model指令在本质上完全是依托于事件绑定进行实现的。</p>
<p>记住：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><input v-model=<span class="string">"searchText"</span>></span><br></pre></td></tr></tbody></table></figure></div>
<p>完全等价于：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><input</span><br><span class="line">  v-bind:value=<span class="string">"searchText"</span></span><br><span class="line">  v-on:input=<span class="string">"searchText = $event.target.value"</span></span><br><span class="line">></span><br></pre></td></tr></tbody></table></figure></div>

<p>也就是说v-model指令实际上绑定了一个名为value的属性，同时绑定了input事件。input事件内部利用$event事件对象将操作值重新赋给了searchText。</p>
<p>案例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><!DOCTYPE html></span><br><span class="line"><html lang=<span class="string">"en"</span>></span><br><span class="line"><head></span><br><span class="line">    <meta charset=<span class="string">"UTF-8"</span>></span><br><span class="line">    <title>test-子组件v-model双向数据绑定<<span class="regexp">/title></span></span><br><span class="line"><span class="regexp">    <script src="../</span>vue/vue.js<span class="string">"></script></span></span><br><span class="line"><span class="string">    <!--</span></span><br><span class="line"><span class="string">        1、编写父实例，使用input进行双向数据绑定。</span></span><br><span class="line"><span class="string">        2、编写子组件，使用input输入框，但不使用v-model进行数据绑定。</span></span><br><span class="line"><span class="string">        3、利用v-bind进行子组件的props属性数据绑定，绑定名称为father-value，该属性接收值为父实例中的fatherValue</span></span><br><span class="line"><span class="string">           将父实例中的fatherValue数据传递给子组件的father-value，子组件内部同样使用v-bind将props中fatherValue值</span></span><br><span class="line"><span class="string">           绑定到input框中，实现父实例数据向子组件的传递。</span></span><br><span class="line"><span class="string">        4、在子组件内部input中显示绑定input事件，input事件将触发执行子组件的updateValue，updateValue函数要求</span></span><br><span class="line"><span class="string">           传入当前的事件对象$event；updateValue函数内部通过event对象获取input框操作值，再利用$emit函数触发外部</span></span><br><span class="line"><span class="string">           事件的执行，将子组件内部的数据发射到外部；$emit函数绑定的事件类型也必须是input的事件；在子组件的使用</span></span><br><span class="line"><span class="string">           处，显示定义input事件，该事件将触发外部父实例的fatherUpdateValue函数，fatherUpdateValue函数接收子组件</span></span><br><span class="line"><span class="string">           发射出来的信息；最后fatherUpdateValue函数将接收到的值绑定到父实例中去。</span></span><br><span class="line"><span class="string">    --></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    <div id="</span>web<span class=" string">"><br><span class="line"><span class="string">        父实例双向数据绑定：<input type="</span>text<span class=" string">" v-model="</span>fatherValue<span class="string">"></span></span><br><span class="line"><span class="string">        <br></span></span><br><span class="line"><span class="string">        <br></span></span><br><span class="line"><span class="string">        <!-- v-bind，father-value采用“-”连接，与props属性中数据名称相对应，负责将父实例中的数据传入到子组件中 --></span></span><br><span class="line"><span class="string">        <!-- v-on，监听$emit函数对事件的触发，事件触发后调用外部父实例中的fatherUpdateValue函数，这里的input并不一定要如此命名--></span></span><br><span class="line"><span class="string">        <my-component :father-value="</span>fatherValue<span class=" string">" @input="</my-component></span>fatherUpdateValue<span class="string">"></span></span><br><span class="line"><span class="string">    </span></span></div></span></span><br><span class="line"><span class="string">    <template id="</span>template01<span class=" string">"><br><span class="line"><span class="string">        <div><br><span class="line"><span class="string">            <!-- 这里的v-bind必须要绑定value属性，该名字是input框Vue内部处理的默认名称，绑定props属性传入的值--></span></span><br><span class="line"><span class="string">            <!-- 这里的v-on必须要绑定input事件，该事件是input框Vue内部处理的默认事件，触发子组件内部的事件--></span></span><br><span class="line"><span class="string">            子组件双向数据绑定：<input type="</span>text<span class=" string">" :value="</span>fatherValue<span class="string">" @input="</span>updateValue($event)<span class="string">"></span></span><br><span class="line"><span class="string">        </span></span></div></span></span><br><span class="line"><span class="string">    </span></span></template></span></span><br><span class="line"><span class="string">    <script></span></span><br><span class="line"><span class="string">        Vue.component("</span>my-component<span class="string">",{</span></span><br><span class="line">            template: "#template01",</span><br><span class="line">            props: [<span class="string">"fatherValue"</span>],</span><br><span class="line">            methods: {</span><br><span class="line">                updateValue(event){</span><br><span class="line">                    <span class="keyword">this</span>.$emit(<span class="string">"input"</span>,event.target.value);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span><br><span class="line">            el: <span class="string">"#web"</span>,</span><br><span class="line">            data: {</span><br><span class="line">                fatherValue: <span class="string">""</span></span><br><span class="line">            },</span><br><span class="line">            methods: {</span><br><span class="line">                fatherUpdateValue(value){</span><br><span class="line">                    <span class="keyword">this</span>.fatherValue = value;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    <<span class="regexp">/script></span></span><br><span class="line"><span class="regexp"></</span>body></span><br><span class="line"><<span class="regexp">/html></span></span><br></pre></td></tr></tbody></table></figure></div></body></html></script></span></span></span></div></span></pre></td></tr></tbody></table></figure></div></body></html></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Hao Liu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://fly-liuhao.github.io/2020/02/22/study-file/6.0%20Vue%E7%BB%84%E4%BB%B6/">https://fly-liuhao.github.io/2020/02/22/study-file/6.0%20Vue%E7%BB%84%E4%BB%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://fly-liuhao.github.io">Fly's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">Vue    </a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/02/22/study-file/4.0%20%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%EF%BC%88%E4%BA%8C%EF%BC%89/"><img class="prev_cover lazyload" data-src="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>Vue学习之——Vue数据绑定（二）</span></div></a></div><div class="next-post pull_right"><a href="/2020/02/22/study-file/7.0%20Vue%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"><img class="next_cover lazyload" data-src="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>Vue学习之——Vue项目环境搭建</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/02/22/study-file/1.0 Vue入门/" title="Vue学习之——Vue入门"><img class="relatedPosts_cover lazyload"data-src="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-22</div><div class="relatedPosts_title">Vue学习之——Vue入门</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/22/study-file/10.0 Vue数据请求/" title="Vue学习之——Vue数据请求"><img class="relatedPosts_cover lazyload"data-src="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-22</div><div class="relatedPosts_title">Vue学习之——Vue数据请求</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/22/study-file/3.0 数据绑定（一）/" title="Vue学习之——Vue数据绑定（一）"><img class="relatedPosts_cover lazyload"data-src="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-22</div><div class="relatedPosts_title">Vue学习之——Vue数据绑定（一）</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/22/study-file/4.0 数据绑定（二）/" title="Vue学习之——Vue数据绑定（二）"><img class="relatedPosts_cover lazyload"data-src="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-22</div><div class="relatedPosts_title">Vue学习之——Vue数据绑定（二）</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/22/study-file/7.0 Vue项目环境搭建/" title="Vue学习之——Vue项目环境搭建"><img class="relatedPosts_cover lazyload"data-src="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-22</div><div class="relatedPosts_title">Vue学习之——Vue项目环境搭建</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/22/study-file/8.0 Vue高级应用入门/" title="Vue学习之——Vue高级应用入门"><img class="relatedPosts_cover lazyload"data-src="https://gitee.com/fly-liuhao/ImageHosting/raw/master/FlyBlog/Vue.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-22</div><div class="relatedPosts_title">Vue学习之——Vue高级应用入门</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'qW3RILggCcRwyesfl5At8opp-gzGzoHsz',
  appKey:'7D0vwog4zFaxVz1KPm13pLQ7',
  placeholder:'说点什么吧...',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'zh-cn',
  recordIP: true
});</script></div></div></main><footer id="footer" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Hao Liu</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://fly-liuhao.github.io/">blog</a>!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>